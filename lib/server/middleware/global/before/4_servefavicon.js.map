{"version":3,"file":"4_servefavicon.js","sourceRoot":"","sources":["../../../../../src/server/middleware/global/before/4_servefavicon.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,kEAAyC;AACzC,2BAAgC;AAChC,6DAA6E;AAG7E,MAAM,QAAQ,GAAG,GAAI,OAAO,CAAC,GAAG,EAAG,qBAAqB,CAAC;AACzD,MAAM,UAAU,GAAG,IAAA,eAAU,EAAC,QAAQ,CAAC,CAAC;AAGxC,IAAa,YAAY,GAAzB,MAAa,YAAY;IACjB,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAmB;QAC1D,IAAI,UAAU,EAAE;YACf,IAAA,uBAAY,EAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SACvC;aACI;YACJ,IAAI,EAAE,CAAC;SACP;IACF,CAAC;CACD,CAAA;AATY,YAAY;IADxB,IAAA,gCAAU,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,EAAE,EAAE,CAAC;GAChC,YAAY,CASxB;AATY,oCAAY","sourcesContent":["import serveFavicon from 'serve-favicon';\nimport { existsSync } from 'fs';\nimport { Middleware, ExpressMiddlewareInterface } from 'routing-controllers';\nimport { Request, Response, NextFunction } from 'express';\n\nconst filePath = `${ process.cwd() }/public/favicon.ico`;\nconst hasFavicon = existsSync(filePath);\n\n@Middleware({ type: 'before', priority: 20 })\nexport class ServeFavicon implements ExpressMiddlewareInterface {\n\tpublic use(req: Request, res: Response, next?: NextFunction): any {\n\t\tif (hasFavicon) {\n\t\t\tserveFavicon(filePath)(req, res, next);\n\t\t}\n\t\telse {\n\t\t\tnext();\n\t\t}\n\t}\n}\n"]}