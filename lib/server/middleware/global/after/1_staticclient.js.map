{"version":3,"file":"1_staticclient.js","sourceRoot":"","sources":["../../../../../src/server/middleware/global/after/1_staticclient.ts"],"names":[],"mappings":";;;;;;;;AAAA,6DAA6E;AAE7E,mCAAmC;AAEnC,MAAM,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC,QAAQ,IAAI,KAAK,CAAC;AAC1C,MAAM,UAAU,GAAG,GAAI,OAAO,CAAC,GAAG,EAAG,WAAY,GAAI,EAAE,CAAC;AAGxD,IAAa,YAAY,GAAzB;IACQ,GAAG,CAAC,GAAY,EAAE,GAAa,EAAE,IAAmB;QAC1D,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE;YAClB,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;SAC3C;aACI;YACJ,IAAI,EAAE,CAAC;SACP;IACF,CAAC;CACD,CAAA;AATY,YAAY;IADxB,gCAAU,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC;GAC9B,YAAY,CASxB;AATY,oCAAY","sourcesContent":["import { Middleware, ExpressMiddlewareInterface } from 'routing-controllers';\nimport { Request, Response, NextFunction } from 'express';\nimport * as express from 'express';\n\nconst env = process.env.NODE_ENV || 'dev';\nconst clientPath = `${ process.cwd() }/client/${ env }`;\n\n@Middleware({ type: 'after', priority: 1 })\nexport class StaticClient implements ExpressMiddlewareInterface {\n\tpublic use(req: Request, res: Response, next?: NextFunction): any {\n\t\tif (!res.finished) {\n\t\t\texpress.static(clientPath)(req, res, next);\n\t\t}\n\t\telse {\n\t\t\tnext();\n\t\t}\n\t}\n}\n"]}