{"version":3,"file":"json.js","sourceRoot":"","sources":["../../../src/shared/webclient/json.ts"],"names":[],"mappings":";;;AACA,yCAA+C;AAE/C,SAAgB,aAAa,CAAC,OAAwB;IACrD,KAAK,UAAU,WAAW,CAAI,OAAwB;QACrD,IAAI,CAAC,OAAO,CAAC,OAAO;YACnB,OAAO,CAAC,OAAO,GAAG,EAAE,CAAC;QAEtB,OAAO,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB,CAAC;QAErD,IAAI,QAAQ,GAAG,MAAM,OAAO,CAAC,OAAO,CAAC,CAAC;QACtC,QAAQ,CAAC,IAAI,GAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC7C,OAAO,QAAQ,CAAC;IACjB,CAAC;IAED,OAAO,MAAM,aAAc,SAAQ,4BAAiB,CAAC,WAAW,CAAC;QACzD,KAAK,CAAC,GAAG,CAAI,GAAW,EAAE,OAAyB;YACzD,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;QAC5D,CAAC;QAEM,KAAK,CAAC,IAAI,CAAI,GAAW,EAAE,IAAS,EAAE,OAAyB;YACrE,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QACnE,CAAC;QAEM,KAAK,CAAC,GAAG,CAAI,GAAW,EAAE,IAAS,EAAE,OAAyB;YACpE,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC,CAAC;QAClE,CAAC;QAEM,KAAK,CAAC,MAAM,CAAI,GAAW,EAAE,OAAyB;YAC5D,OAAO,MAAM,IAAI,CAAC,OAAO,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;QAC/D,CAAC;KACD,CAAA;AACF,CAAC;AA7BD,sCA6BC","sourcesContent":["import { IRequestHeaders, RequestFunction, IRequestOptions, IResponse, IJsonWebClient } from './contracts/index';\nimport { AbstractWebClient } from './abstract';\n\nexport function JsonWebClient(request: RequestFunction): { new(userAgent?: string): IJsonWebClient } {\n\tasync function jsonRequest<T>(options: IRequestOptions): Promise<IResponse<T>> {\n\t\tif (!options.headers)\n\t\t\toptions.headers = {};\n\n\t\toptions.headers['Content-Type'] = 'application/json';\n\n\t\tlet response = await request(options);\n\t\tresponse.data = <T>JSON.parse(response.data);\n\t\treturn response;\n\t}\n\n\treturn class JsonWebClient extends AbstractWebClient(jsonRequest) implements IJsonWebClient {\n\t\tpublic async get<T>(url: string, headers?: IRequestHeaders): Promise<IResponse<T>> {\n\t\t\treturn await this.request({ method: 'GET', url, headers });\n\t\t}\n\n\t\tpublic async post<T>(url: string, body: any, headers?: IRequestHeaders): Promise<IResponse<T>> {\n\t\t\treturn await this.request({ method: 'POST', url, body, headers });\n\t\t}\n\n\t\tpublic async put<T>(url: string, body: any, headers?: IRequestHeaders): Promise<IResponse<T>> {\n\t\t\treturn await this.request({ method: 'PUT', url, body, headers });\n\t\t}\n\n\t\tpublic async delete<T>(url: string, headers?: IRequestHeaders): Promise<IResponse<T>> {\n\t\t\treturn await this.request({ method: 'DELETE', url, headers });\n\t\t}\n\t}\n}"]}